---
title: "Visualizing two variables"
author: "by Edneide Ramalho"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: 
    html_document:
      highlight: textmate
      logo: logo.png
      theme: flatly
      number_sections: yes
      toc: yes
      toc_float:
        collapsed: yes
        smooth_scroll: no
---

This script is based on the course: **Correlation and Regression in R** available on Data Camp.

# Scatterplots

Scatterplots are the most common and effective tools for visualizing the relationship between two numeric variables.

The `ncbirths` dataset is a random sample of 1,000 cases taken from a larger dataset collected in 2004. Each case describes the birth of a single child born in North Carolina, along with various characteristics of the child (e.g. birth weight, length of gestation, etc.), the child's mother (e.g. age, weight gained during pregnancy, smoking habits, etc.) and the child's father (e.g. age). You can view the help file for these data by running `?ncbirths` in the console.

Using the `ncbirths` dataset, make a scatterplot using `ggplot()` to illustrate how the birth weight of these babies varies according to the number of weeks of gestation.

```{r, message=F, warning=FALSE}
library(openintro)
library(ggplot2)
library(tidyverse)
# Scatterplot of weight vs. weeks
ggplot(ncbirths, aes(x = weeks, y = weight)) +
    geom_point()
```

## **Boxplots as discretized/conditioned scatterplots**

If it is helpful, you can think of boxplots as scatterplots for which the variable on the x-axis has been discretized.

The `cut()` function takes two arguments: the continuous variable you want to discretize and the number of `breaks` that you want to make in that continuous variable in order to discretize it.

Using the `ncbirths` dataset again, make a boxplot illustrating how the birth weight of these babies varies according to the number of weeks of gestation. This time, use the `cut()` function to discretize the x-variable into six intervals (i.e. five breaks).

```{r}
# Boxplot of weight vs. weeks
ggplot(data = ncbirths, 
       aes(x = cut(weeks, breaks = 5), y = weight)) + 
  geom_boxplot()
```

# Characterizing bivariate relationships

## **Creating scatterplots**

Creating scatterplots is simple and they are so useful that it is worthwhile to expose yourself to many examples. Over time, you will gain familiarity with the types of patterns that you see. You will begin to recognize how scatterplots can reveal the nature of the relationship between two variables.

In this exercise, and throughout this chapter, we will be using several datasets listed below. These data are available through the `openintro` package. Briefly:

-   The `mammals` dataset contains information about 39 different species of mammals, including their body weight, brain weight, gestation time, and a few other variables.

-   The `mlbBat10` dataset contains batting statistics for 1,199 Major League Baseball players during the 2010 season.

-   The `bdims` dataset contains body girth and skeletal diameter measurements for 507 physically active individuals.

-   The `smoking` dataset contains information on the smoking habits of 1,691 citizens of the United Kingdom.

To see more thorough documentation, use the `?` or `help()` functions.\

1.  Using the `mammals` dataset, create a scatterplot illustrating how the brain weight of a mammal varies as a function of its body weight.

```{r}
glimpse(mammals)
```

```{r}
mammals %>% 
  ggplot(aes(x = body_wt, y = brain_wt)) +
  geom_point()
```

2.  Using the `mlbBat10` dataset, create a scatterplot illustrating how the slugging percentage (SLG) of a player varies as a function of his on-base percentage (OBP).

```{r}
mlbbat10 %>% 
  ggplot(aes(x = obp, y = slg)) +
  geom_point()

```

3.  Using the `bdims` dataset, create a scatterplot illustrating how a person's weight varies as a function of their height. Use color to separate by sex, which you'll need to coerce to a factor with `factor()`.

```{r}
bdims %>% 
  ggplot(aes(x = hgt, y = wgt, color = factor(sex))) +
  geom_point()
```

4.  Using the `smoking` dataset, create a scatterplot illustrating how the amount that a person smokes on weekdays varies as a function of their age.

```{r}
smoking %>% 
  ggplot(aes(x = age, y = amt_weekdays)) +
  geom_point()
```
